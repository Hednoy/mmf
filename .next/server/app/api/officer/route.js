/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/officer/route";
exports.ids = ["app/api/officer/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next-validations/dist/esm sync recursive":
/*!******************************************************!*\
  !*** ./node_modules/next-validations/dist/esm/ sync ***!
  \******************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/next-validations/dist/esm sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fofficer%2Froute&page=%2Fapi%2Fofficer%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fofficer%2Froute.ts&appDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fofficer%2Froute&page=%2Fapi%2Fofficer%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fofficer%2Froute.ts&appDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_hednoy_Desktop_Palm_mmf_mmf_src_app_api_officer_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/officer/route.ts */ \"(rsc)/./src/app/api/officer/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/officer/route\",\n        pathname: \"/api/officer\",\n        filename: \"route\",\n        bundlePath: \"app/api/officer/route\"\n    },\n    resolvedPagePath: \"/Users/hednoy/Desktop/Palm/mmf/mmf/src/app/api/officer/route.ts\",\n    nextConfigOutput,\n    userland: _Users_hednoy_Desktop_Palm_mmf_mmf_src_app_api_officer_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/officer/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvZmZpY2VyJTJGcm91dGUmcGFnZT0lMkZhcGklMkZvZmZpY2VyJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGb2ZmaWNlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmhlZG5veSUyRkRlc2t0b3AlMkZQYWxtJTJGbW1mJTJGbW1mJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmhlZG5veSUyRkRlc2t0b3AlMkZQYWxtJTJGbW1mJTJGbW1mJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2U7QUFDNUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXJ1bnJhai8/ZTVlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvaGVkbm95L0Rlc2t0b3AvUGFsbS9tbWYvbW1mL3NyYy9hcHAvYXBpL29mZmljZXIvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29mZmljZXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vZmZpY2VyXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9vZmZpY2VyL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2hlZG5veS9EZXNrdG9wL1BhbG0vbW1mL21tZi9zcmMvYXBwL2FwaS9vZmZpY2VyL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL29mZmljZXIvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fofficer%2Froute&page=%2Fapi%2Fofficer%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fofficer%2Froute.ts&appDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/officer/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/officer/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_server_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib-server/error */ \"(rsc)/./src/lib-server/error.ts\");\n/* harmony import */ var _lib_server_services_officer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib-server/services/officer */ \"(rsc)/./src/lib-server/services/officer.ts\");\n/* harmony import */ var _lib_server_validation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib-server/validation */ \"(rsc)/./src/lib-server/validation.ts\");\n/* harmony import */ var next_validations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-validations */ \"(rsc)/./node_modules/next-validations/dist/esm/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\n\n\n\n\nconst officersGetSchema = zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n    page: zod__WEBPACK_IMPORTED_MODULE_4__.z.preprocess(_lib_server_validation__WEBPACK_IMPORTED_MODULE_2__.stringToNumber, zod__WEBPACK_IMPORTED_MODULE_4__.z.number().min(1).optional()),\n    limit: zod__WEBPACK_IMPORTED_MODULE_4__.z.preprocess(_lib_server_validation__WEBPACK_IMPORTED_MODULE_2__.stringToNumber, zod__WEBPACK_IMPORTED_MODULE_4__.z.number().min(1).max(100).optional()),\n    searchTerm: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_4__.z.literal(\"\")),\n    sort: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_4__.z.literal(\"\")),\n    sortDirection: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_4__.z.literal(\"\")).or(zod__WEBPACK_IMPORTED_MODULE_4__.z.literal(\"asc\")).or(zod__WEBPACK_IMPORTED_MODULE_4__.z.literal(\"desc\"))\n});\nconst officersSaveSchema = zod__WEBPACK_IMPORTED_MODULE_4__.z.object({});\nconst validateOfficerSave = (0,next_validations__WEBPACK_IMPORTED_MODULE_3__.withValidation)({\n    schema: officersSaveSchema.omit({}),\n    type: \"Zod\",\n    mode: \"body\"\n});\nconst validateOfficersSearchQueryParams = (params)=>{\n    const result = officersGetSchema.safeParse(params);\n    if (!result.success) throw _lib_server_error__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromZodError(result.error);\n    return result.data;\n};\nconst GET = async (request)=>{\n    const { nextUrl: { search } } = request;\n    try {\n        const urlSearchParams = new URLSearchParams(search);\n        const params = Object.fromEntries(urlSearchParams.entries());\n        const parsedData = validateOfficersSearchQueryParams(params);\n        const officers = await (0,_lib_server_services_officer__WEBPACK_IMPORTED_MODULE_1__.getOfficers)(parsedData);\n        return Response.json(officers);\n    } catch (e) {\n        return new Response(e, {\n            status: 400,\n            statusText: \"Bad Request\"\n        });\n    }\n};\n// Generate a POST method handler for create Officer\nconst POST = async (request)=>{\n    try {\n        const data = await request.json();\n        console.log(\"POST\", data);\n        const officer = await (0,_lib_server_services_officer__WEBPACK_IMPORTED_MODULE_1__.createOfficer)(data);\n        return Response.json(officer);\n    } catch (e) {\n        return new Response(e, {\n            status: 400,\n            statusText: \"Bad Request\"\n        });\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9vZmZpY2VyL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEM7QUFDaUM7QUFDbEI7QUFHUDtBQUUxQjtBQUV4QixNQUFNTSxvQkFBb0JELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDakNDLE1BQU1ILGtDQUFDQSxDQUFDSSxVQUFVLENBQUNOLGtFQUFjQSxFQUFFRSxrQ0FBQ0EsQ0FBQ0ssTUFBTSxHQUFHQyxHQUFHLENBQUMsR0FBR0MsUUFBUTtJQUM3REMsT0FBT1Isa0NBQUNBLENBQUNJLFVBQVUsQ0FBQ04sa0VBQWNBLEVBQUVFLGtDQUFDQSxDQUFDSyxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxHQUFHRyxHQUFHLENBQUMsS0FBS0YsUUFBUTtJQUN2RUcsWUFBWVYsa0NBQUNBLENBQUNXLE1BQU0sR0FBR0osUUFBUSxHQUFHSyxFQUFFLENBQUNaLGtDQUFDQSxDQUFDYSxPQUFPLENBQUM7SUFDL0NDLE1BQU1kLGtDQUFDQSxDQUFDVyxNQUFNLEdBQUdKLFFBQVEsR0FBR0ssRUFBRSxDQUFDWixrQ0FBQ0EsQ0FBQ2EsT0FBTyxDQUFDO0lBQ3pDRSxlQUFlZixrQ0FBQ0EsQ0FDYlcsTUFBTSxHQUNOSixRQUFRLEdBQ1JLLEVBQUUsQ0FBQ1osa0NBQUNBLENBQUNhLE9BQU8sQ0FBQyxLQUNiRCxFQUFFLENBQUNaLGtDQUFDQSxDQUFDYSxPQUFPLENBQUMsUUFDYkQsRUFBRSxDQUFDWixrQ0FBQ0EsQ0FBQ2EsT0FBTyxDQUFDO0FBQ2xCO0FBRUEsTUFBTUcscUJBQXFCaEIsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQyxDQUFDO0FBRXJDLE1BQU1lLHNCQUFzQmxCLGdFQUFjQSxDQUFDO0lBQ3pDbUIsUUFBUUYsbUJBQW1CRyxJQUFJLENBQUMsQ0FBQztJQUNqQ0MsTUFBTTtJQUNOQyxNQUFNO0FBQ1I7QUFFQSxNQUFNQyxvQ0FBb0MsQ0FDeENDO0lBRUEsTUFBTUMsU0FBU3ZCLGtCQUFrQndCLFNBQVMsQ0FBQ0Y7SUFDM0MsSUFBSSxDQUFDQyxPQUFPRSxPQUFPLEVBQUUsTUFBTS9CLHlEQUFRQSxDQUFDZ0MsWUFBWSxDQUFDSCxPQUFPSSxLQUFLO0lBRTdELE9BQU9KLE9BQU9LLElBQUk7QUFDcEI7QUFFQSxNQUFNQyxNQUFNLE9BQU9DO0lBQ2pCLE1BQU0sRUFDSkMsU0FBUyxFQUFFQyxNQUFNLEVBQUUsRUFDcEIsR0FBR0Y7SUFDSixJQUFJO1FBQ0YsTUFBTUcsa0JBQWtCLElBQUlDLGdCQUFnQkY7UUFDNUMsTUFBTVYsU0FBU2EsT0FBT0MsV0FBVyxDQUFDSCxnQkFBZ0JJLE9BQU87UUFFekQsTUFBTUMsYUFBYWpCLGtDQUFrQ0M7UUFFckQsTUFBTWlCLFdBQVcsTUFBTTNDLHlFQUFXQSxDQUFDMEM7UUFFbkMsT0FBT0UsU0FBU0MsSUFBSSxDQUFDRjtJQUN2QixFQUFFLE9BQU9HLEdBQVE7UUFDZixPQUFPLElBQUlGLFNBQVNFLEdBQUc7WUFDckJDLFFBQVE7WUFDUkMsWUFBWTtRQUNkO0lBQ0Y7QUFDRjtBQUVBLG9EQUFvRDtBQUNwRCxNQUFNQyxPQUFPLE9BQU9mO0lBQ2xCLElBQUk7UUFDRixNQUFNRixPQUFRLE1BQU1FLFFBQVFXLElBQUk7UUFFaENLLFFBQVFDLEdBQUcsQ0FBQyxRQUFRbkI7UUFFcEIsTUFBTW9CLFVBQVUsTUFBTXJELDJFQUFhQSxDQUFDaUM7UUFFcEMsT0FBT1ksU0FBU0MsSUFBSSxDQUFDTztJQUN2QixFQUFFLE9BQU9OLEdBQVE7UUFDZixPQUFPLElBQUlGLFNBQVNFLEdBQUc7WUFDckJDLFFBQVE7WUFDUkMsWUFBWTtRQUNkO0lBQ0Y7QUFDRjtBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BpcnVucmFqLy4vc3JjL2FwcC9hcGkvb2ZmaWNlci9yb3V0ZS50cz8zOTgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcGlFcnJvciBmcm9tIFwiQC9saWItc2VydmVyL2Vycm9yXCI7XG5pbXBvcnQgeyBjcmVhdGVPZmZpY2VyLCBnZXRPZmZpY2VycyB9IGZyb20gXCJAL2xpYi1zZXJ2ZXIvc2VydmljZXMvb2ZmaWNlclwiO1xuaW1wb3J0IHsgc3RyaW5nVG9OdW1iZXIgfSBmcm9tIFwiQC9saWItc2VydmVyL3ZhbGlkYXRpb25cIjtcbmltcG9ydCB7IFF1ZXJ5UGFyYW1zVHlwZSB9IGZyb20gXCJAL3R5cGVzXCI7XG5pbXBvcnQgeyBPZmZpY2VyQ3JlYXRlRm9ybURhdGEsIE9mZmljZXJzR2V0RGF0YSB9IGZyb20gXCJAL3R5cGVzL21vZGVsc1wiO1xuaW1wb3J0IHsgd2l0aFZhbGlkYXRpb24gfSBmcm9tIFwibmV4dC12YWxpZGF0aW9uc1wiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmNvbnN0IG9mZmljZXJzR2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICBwYWdlOiB6LnByZXByb2Nlc3Moc3RyaW5nVG9OdW1iZXIsIHoubnVtYmVyKCkubWluKDEpLm9wdGlvbmFsKCkpLFxuICBsaW1pdDogei5wcmVwcm9jZXNzKHN0cmluZ1RvTnVtYmVyLCB6Lm51bWJlcigpLm1pbigxKS5tYXgoMTAwKS5vcHRpb25hbCgpKSxcbiAgc2VhcmNoVGVybTogei5zdHJpbmcoKS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIHNvcnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICBzb3J0RGlyZWN0aW9uOiB6XG4gICAgLnN0cmluZygpXG4gICAgLm9wdGlvbmFsKClcbiAgICAub3Ioei5saXRlcmFsKFwiXCIpKVxuICAgIC5vcih6LmxpdGVyYWwoXCJhc2NcIikpXG4gICAgLm9yKHoubGl0ZXJhbChcImRlc2NcIikpLFxufSk7XG5cbmNvbnN0IG9mZmljZXJzU2F2ZVNjaGVtYSA9IHoub2JqZWN0KHt9KTtcblxuY29uc3QgdmFsaWRhdGVPZmZpY2VyU2F2ZSA9IHdpdGhWYWxpZGF0aW9uKHtcbiAgc2NoZW1hOiBvZmZpY2Vyc1NhdmVTY2hlbWEub21pdCh7fSksXG4gIHR5cGU6IFwiWm9kXCIsXG4gIG1vZGU6IFwiYm9keVwiLFxufSk7XG5cbmNvbnN0IHZhbGlkYXRlT2ZmaWNlcnNTZWFyY2hRdWVyeVBhcmFtcyA9IChcbiAgcGFyYW1zOiBRdWVyeVBhcmFtc1R5cGVcbik6IE9mZmljZXJzR2V0RGF0YSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IG9mZmljZXJzR2V0U2NoZW1hLnNhZmVQYXJzZShwYXJhbXMpO1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB0aHJvdyBBcGlFcnJvci5mcm9tWm9kRXJyb3IocmVzdWx0LmVycm9yKTtcblxuICByZXR1cm4gcmVzdWx0LmRhdGEgYXMgT2ZmaWNlcnNHZXREYXRhO1xufTtcblxuY29uc3QgR0VUID0gYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBuZXh0VXJsOiB7IHNlYXJjaCB9LFxuICB9ID0gcmVxdWVzdDtcbiAgdHJ5IHtcbiAgICBjb25zdCB1cmxTZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCk7XG4gICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmZyb21FbnRyaWVzKHVybFNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpO1xuXG4gICAgY29uc3QgcGFyc2VkRGF0YSA9IHZhbGlkYXRlT2ZmaWNlcnNTZWFyY2hRdWVyeVBhcmFtcyhwYXJhbXMpO1xuXG4gICAgY29uc3Qgb2ZmaWNlcnMgPSBhd2FpdCBnZXRPZmZpY2VycyhwYXJzZWREYXRhKTtcblxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKG9mZmljZXJzKTtcbiAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShlLCB7XG4gICAgICBzdGF0dXM6IDQwMCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiQmFkIFJlcXVlc3RcIixcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gR2VuZXJhdGUgYSBQT1NUIG1ldGhvZCBoYW5kbGVyIGZvciBjcmVhdGUgT2ZmaWNlclxuY29uc3QgUE9TVCA9IGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVxdWVzdC5qc29uKCkpIGFzIE9mZmljZXJDcmVhdGVGb3JtRGF0YTtcblxuICAgIGNvbnNvbGUubG9nKFwiUE9TVFwiLCBkYXRhKTtcblxuICAgIGNvbnN0IG9mZmljZXIgPSBhd2FpdCBjcmVhdGVPZmZpY2VyKGRhdGEpO1xuXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ob2ZmaWNlcik7XG4gIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoZSwge1xuICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICBzdGF0dXNUZXh0OiBcIkJhZCBSZXF1ZXN0XCIsXG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IEdFVCwgUE9TVCB9O1xuIl0sIm5hbWVzIjpbIkFwaUVycm9yIiwiY3JlYXRlT2ZmaWNlciIsImdldE9mZmljZXJzIiwic3RyaW5nVG9OdW1iZXIiLCJ3aXRoVmFsaWRhdGlvbiIsInoiLCJvZmZpY2Vyc0dldFNjaGVtYSIsIm9iamVjdCIsInBhZ2UiLCJwcmVwcm9jZXNzIiwibnVtYmVyIiwibWluIiwib3B0aW9uYWwiLCJsaW1pdCIsIm1heCIsInNlYXJjaFRlcm0iLCJzdHJpbmciLCJvciIsImxpdGVyYWwiLCJzb3J0Iiwic29ydERpcmVjdGlvbiIsIm9mZmljZXJzU2F2ZVNjaGVtYSIsInZhbGlkYXRlT2ZmaWNlclNhdmUiLCJzY2hlbWEiLCJvbWl0IiwidHlwZSIsIm1vZGUiLCJ2YWxpZGF0ZU9mZmljZXJzU2VhcmNoUXVlcnlQYXJhbXMiLCJwYXJhbXMiLCJyZXN1bHQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZnJvbVpvZEVycm9yIiwiZXJyb3IiLCJkYXRhIiwiR0VUIiwicmVxdWVzdCIsIm5leHRVcmwiLCJzZWFyY2giLCJ1cmxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJwYXJzZWREYXRhIiwib2ZmaWNlcnMiLCJSZXNwb25zZSIsImpzb24iLCJlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIlBPU1QiLCJjb25zb2xlIiwibG9nIiwib2ZmaWNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/officer/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib-server/error.ts":
/*!*********************************!*\
  !*** ./src/lib-server/error.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ApiError),\n/* harmony export */   handleApiError: () => (/* binding */ handleApiError),\n/* harmony export */   handleSsrError: () => (/* binding */ handleSsrError)\n/* harmony export */ });\nclass ApiError extends Error {\n    constructor(message, statusCode, isOperational = true){\n        super(message);\n        this.statusCode = statusCode;\n        this.isOperational = isOperational;\n        Error.captureStackTrace(this, this.constructor);\n        // set constructor name for Jest toBeInstanceOf()\n        Object.setPrototypeOf(this, ApiError.prototype);\n    }\n    static fromZodError(error) {\n        return new this(error.toString(), 400);\n    }\n}\nconst handleApiError = (error, req, res)=>{\n    console.error(\"handled API error: \", error);\n    const isProd = \"development\" === \"production\";\n    const response = {\n        ...!isProd && {\n            stack: error.stack\n        },\n        message: error.message,\n        statusCode: error.statusCode,\n        isOperational: error.isOperational\n    };\n    // if status > 399 => error\n    res.status(error.statusCode || 500).json(response);\n};\nconst handleSsrError = (error, req, res)=>{\n    console.error(\"handled SSR error: \", error);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliLXNlcnZlci9lcnJvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHZSxNQUFNQSxpQkFBaUJDO0lBSXBDQyxZQUFZQyxPQUFlLEVBQUVDLFVBQWtCLEVBQUVDLGdCQUFnQixJQUFJLENBQUU7UUFDckUsS0FBSyxDQUFDRjtRQUVOLElBQUksQ0FBQ0MsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLGFBQWEsR0FBR0E7UUFFckJKLE1BQU1LLGlCQUFpQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUNKLFdBQVc7UUFFOUMsaURBQWlEO1FBQ2pESyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFUixTQUFTUyxTQUFTO0lBQ2hEO0lBRUEsT0FBT0MsYUFBYUMsS0FBZSxFQUFZO1FBQzdDLE9BQU8sSUFBSSxJQUFJLENBQUNBLE1BQU1DLFFBQVEsSUFBSTtJQUNwQztBQUNGO0FBRU8sTUFBTUMsaUJBQWlCLENBQzVCRixPQUNBRyxLQUNBQztJQUVBQyxRQUFRTCxLQUFLLENBQUMsdUJBQXVCQTtJQUNyQyxNQUFNTSxTQUFTQyxrQkFBeUI7SUFFeEMsTUFBTUMsV0FBVztRQUNmLEdBQUksQ0FBQ0YsVUFBVTtZQUFFRyxPQUFPVCxNQUFNUyxLQUFLO1FBQUMsQ0FBQztRQUNyQ2pCLFNBQVNRLE1BQU1SLE9BQU87UUFDdEJDLFlBQVlPLE1BQU1QLFVBQVU7UUFDNUJDLGVBQWVNLE1BQU1OLGFBQWE7SUFDcEM7SUFDQSwyQkFBMkI7SUFDM0JVLElBQUlNLE1BQU0sQ0FBQ1YsTUFBTVAsVUFBVSxJQUFJLEtBQUtrQixJQUFJLENBQUNIO0FBQzNDLEVBQUU7QUFFSyxNQUFNSSxpQkFBaUIsQ0FDNUJaLE9BQ0FHLEtBQ0FDO0lBRUFDLFFBQVFMLEtBQUssQ0FBQyx1QkFBdUJBO0FBQ3ZDLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waXJ1bnJhai8uL3NyYy9saWItc2VydmVyL2Vycm9yLnRzPzZlODAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgeyBab2RFcnJvciB9IGZyb20gXCJ6b2RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyByZWFkb25seSBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIHB1YmxpYyByZWFkb25seSBpc09wZXJhdGlvbmFsOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgc3RhdHVzQ29kZTogbnVtYmVyLCBpc09wZXJhdGlvbmFsID0gdHJ1ZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLmlzT3BlcmF0aW9uYWwgPSBpc09wZXJhdGlvbmFsO1xuXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG5cbiAgICAvLyBzZXQgY29uc3RydWN0b3IgbmFtZSBmb3IgSmVzdCB0b0JlSW5zdGFuY2VPZigpXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFwaUVycm9yLnByb3RvdHlwZSk7XG4gIH1cblxuICBzdGF0aWMgZnJvbVpvZEVycm9yKGVycm9yOiBab2RFcnJvcik6IEFwaUVycm9yIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoZXJyb3IudG9TdHJpbmcoKSwgNDAwKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaGFuZGxlQXBpRXJyb3IgPSAoXG4gIGVycm9yOiBhbnksXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXG4pID0+IHtcbiAgY29uc29sZS5lcnJvcihcImhhbmRsZWQgQVBJIGVycm9yOiBcIiwgZXJyb3IpO1xuICBjb25zdCBpc1Byb2QgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XG5cbiAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgLi4uKCFpc1Byb2QgJiYgeyBzdGFjazogZXJyb3Iuc3RhY2sgfSksXG4gICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXNDb2RlLFxuICAgIGlzT3BlcmF0aW9uYWw6IGVycm9yLmlzT3BlcmF0aW9uYWwsXG4gIH07XG4gIC8vIGlmIHN0YXR1cyA+IDM5OSA9PiBlcnJvclxuICByZXMuc3RhdHVzKGVycm9yLnN0YXR1c0NvZGUgfHwgNTAwKS5qc29uKHJlc3BvbnNlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVTc3JFcnJvciA9IChcbiAgZXJyb3I6IGFueSxcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2VcbikgPT4ge1xuICBjb25zb2xlLmVycm9yKFwiaGFuZGxlZCBTU1IgZXJyb3I6IFwiLCBlcnJvcik7XG59O1xuIl0sIm5hbWVzIjpbIkFwaUVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiaXNPcGVyYXRpb25hbCIsImNhcHR1cmVTdGFja1RyYWNlIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJmcm9tWm9kRXJyb3IiLCJlcnJvciIsInRvU3RyaW5nIiwiaGFuZGxlQXBpRXJyb3IiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwiaXNQcm9kIiwicHJvY2VzcyIsInJlc3BvbnNlIiwic3RhY2siLCJzdGF0dXMiLCJqc29uIiwiaGFuZGxlU3NyRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib-server/error.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib-server/prisma.ts":
/*!**********************************!*\
  !*** ./src/lib-server/prisma.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   exclude: () => (/* binding */ exclude),\n/* harmony export */   excludeFromUser: () => (/* binding */ excludeFromUser)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\n// only on server\nif (true) {\n    if (false) {} else {\n        if (!global.prisma) {\n            global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n        }\n        prisma = global.prisma;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\nconst exclude = (model, ...keys)=>{\n    if (!model) throw new Error(\"Model arg is missing.\");\n    for (const key of keys){\n        delete model[key];\n    }\n    return model;\n};\nconst excludeFromUser = (user)=>{\n    return exclude(user, \"password\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliLXNlcnZlci9wcmlzbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDc0Q7QUFFdEQsSUFBSUM7QUFFSixpQkFBaUI7QUFDakIsSUFBSSxJQUE2QixFQUFFO0lBQ2pDLElBQUlDLEtBQXFDLEVBQUUsRUFJMUMsTUFBTTtRQUNMLElBQUksQ0FBQ0UsT0FBT0gsTUFBTSxFQUFFO1lBQ2xCRyxPQUFPSCxNQUFNLEdBQUcsSUFBSUQsd0RBQVlBO1FBQ2xDO1FBQ0FDLFNBQVNHLE9BQU9ILE1BQU07SUFDeEI7QUFDRjtBQUVBLDZEQUE2RDtBQUM3RCxhQUFhO0FBQ2IsaUVBQWVBLE1BQU1BLEVBQUM7QUFFZixNQUFNSSxVQUFVLENBQ3JCQyxPQUNBLEdBQUdDO0lBRUgsSUFBSSxDQUFDRCxPQUFPLE1BQU0sSUFBSUUsTUFBTTtJQUU1QixLQUFLLE1BQU1DLE9BQU9GLEtBQU07UUFDdEIsT0FBT0QsS0FBSyxDQUFDRyxJQUFJO0lBQ25CO0lBQ0EsT0FBT0g7QUFDVCxFQUFFO0FBRUssTUFBTUksa0JBQWtCLENBQUNDO0lBQzlCLE9BQU9OLFFBQVFNLE1BQU07QUFDdkIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BpcnVucmFqLy4vc3JjL2xpYi1zZXJ2ZXIvcHJpc21hLnRzPzYzYzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2xpZW50VXNlciB9IGZyb20gXCJAL3R5cGVzL21vZGVscy9Vc2VyXCI7XG5pbXBvcnQgeyBQcmlzbWFDbGllbnQsIE1lbWJlciB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5sZXQgcHJpc21hOiBQcmlzbWFDbGllbnQ7XG5cbi8vIG9ubHkgb24gc2VydmVyXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCh7XG4gICAgICBsb2c6IFtcInF1ZXJ5XCJdLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGlmICghZ2xvYmFsLnByaXNtYSkge1xuICAgICAgZ2xvYmFsLnByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbiAgICB9XG4gICAgcHJpc21hID0gZ2xvYmFsLnByaXNtYTtcbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4vLyBAdHMtaWdub3JlXG5leHBvcnQgZGVmYXVsdCBwcmlzbWE7XG5cbmV4cG9ydCBjb25zdCBleGNsdWRlID0gPFQsIEtleSBleHRlbmRzIGtleW9mIFQ+KFxuICBtb2RlbDogVCxcbiAgLi4ua2V5czogS2V5W11cbik6IE9taXQ8VCwgS2V5PiA9PiB7XG4gIGlmICghbW9kZWwpIHRocm93IG5ldyBFcnJvcihcIk1vZGVsIGFyZyBpcyBtaXNzaW5nLlwiKTtcblxuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgZGVsZXRlIG1vZGVsW2tleV07XG4gIH1cbiAgcmV0dXJuIG1vZGVsO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4Y2x1ZGVGcm9tVXNlciA9ICh1c2VyOiBNZW1iZXIpOiBDbGllbnRVc2VyID0+IHtcbiAgcmV0dXJuIGV4Y2x1ZGUodXNlciwgXCJwYXNzd29yZFwiKTtcbn07XG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwicHJvY2VzcyIsImxvZyIsImdsb2JhbCIsImV4Y2x1ZGUiLCJtb2RlbCIsImtleXMiLCJFcnJvciIsImtleSIsImV4Y2x1ZGVGcm9tVXNlciIsInVzZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib-server/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib-server/services/officer.ts":
/*!********************************************!*\
  !*** ./src/lib-server/services/officer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOfficer: () => (/* binding */ createOfficer),\n/* harmony export */   deleteOfficer: () => (/* binding */ deleteOfficer),\n/* harmony export */   getOfficer: () => (/* binding */ getOfficer),\n/* harmony export */   getOfficers: () => (/* binding */ getOfficers),\n/* harmony export */   updateIsActive: () => (/* binding */ updateIsActive),\n/* harmony export */   updateOfficer: () => (/* binding */ updateOfficer)\n/* harmony export */ });\n/* harmony import */ var _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib-server/prisma */ \"(rsc)/./src/lib-server/prisma.ts\");\n/* harmony import */ var _lib_server_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib-server/error */ \"(rsc)/./src/lib-server/error.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils */ \"(rsc)/./src/utils/index.ts\");\n\n\n\n\nconst getOfficer = async (id)=>{\n    const officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.findUnique({\n        where: {\n            id\n        },\n        include: {\n            role: true,\n            member: true,\n            Attachment: true\n        }\n    });\n    if (!officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](`Officer with id: ${id} not found.`, 404);\n    const officerByID = {\n        id: officer.id,\n        citizen_id: officer.citizen_id,\n        first_name: officer.first_name,\n        last_name: officer.last_name,\n        nickname: officer.nickname || \"\",\n        mobile_phone: officer.mobile_phone || \"\",\n        email: officer.email || \"\",\n        username: officer.member?.username || \"\",\n        // password: officer.member?.password || \"\",\n        is_active: officer.is_active,\n        position: officer.position || \"\",\n        department: officer.department || \"\",\n        role_id: officer.role_id\n    };\n    return officerByID;\n};\nconst defaultLimit = parseInt(\"5\");\nconst getOfficers = async (officersGetData = {})=>{\n    const { page = 1, limit = defaultLimit, searchTerm, sort = \"updated_at\", sortDirection } = officersGetData;\n    const search = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.filterSearchTerm)(searchTerm);\n    const where = {};\n    if (search) {\n        where.first_name = {\n            contains: search\n        };\n    }\n    const totalCount = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.count({\n        where\n    });\n    let officers = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.findMany({\n        where,\n        skip: (page - 1) * limit,\n        take: limit,\n        include: {\n            role: true,\n            member: true,\n            Attachment: true\n        },\n        orderBy: {\n            [sort]: sortDirection\n        }\n    });\n    officers = Array.isArray(officers) ? officers : [];\n    const result = {\n        items: officers.map((officer)=>officer),\n        pagination: {\n            total: totalCount,\n            pagesCount: Math.ceil(totalCount / limit),\n            currentPage: page,\n            perPage: limit,\n            from: (page - 1) * limit + 1,\n            to: (page - 1) * limit + officers.length,\n            hasMore: page < Math.ceil(totalCount / limit)\n        }\n    };\n    return result;\n};\nconst createOfficer = async (createData)=>{\n    // unique citizen\n    const _user1 = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].member.findFirst({\n        where: {\n            username: createData.username\n        }\n    });\n    if (_user1) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](`User with username : ${createData.username} already exists.`, 409);\n    const password = await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_2__.hash)(createData.password, 10);\n    const user = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].member.create({\n        data: {\n            username: createData.username,\n            password: password,\n            role_id: createData.role_id\n        }\n    });\n    const officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.create({\n        data: {\n            citizen_id: createData.citizen_id,\n            first_name: createData.first_name,\n            last_name: createData.last_name,\n            nickname: createData.nickname,\n            mobile_phone: createData.mobile_phone,\n            email: createData.email,\n            position: createData.position,\n            department: createData.department,\n            is_active: true,\n            member_id: user.id,\n            role_id: createData.role_id\n        }\n    });\n    if (!officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Officer not created.\", 400);\n    // convert Officer to OfficerWithAuthor\n    const officerWithAuthor = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.findUnique({\n        where: {\n            id: officer.id\n        }\n    });\n    if (!officerWithAuthor) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Create category failed.\", 400);\n    return officerWithAuthor;\n};\nconst updateOfficer = async (id, officerUpdateData)=>{\n    const { email, first_name, is_active, last_name, nickname, mobile_phone, citizen_id, position, department, username, password, role_id } = officerUpdateData;\n    const _officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.findUnique({\n        where: {\n            id\n        }\n    });\n    if (!_officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](`Officer with id: ${id} not found.`, 404);\n    const data = {\n        ...email && {\n            email\n        },\n        ...nickname && {\n            nickname\n        },\n        ...first_name && {\n            first_name\n        },\n        ...is_active && {\n            is_active\n        },\n        ...last_name && {\n            last_name\n        },\n        ...mobile_phone && {\n            mobile_phone\n        },\n        ...citizen_id && {\n            citizen_id\n        },\n        ...position && {\n            position\n        },\n        ...department && {\n            department\n        },\n        ...role_id && {\n            role_id\n        }\n    };\n    const officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.update({\n        where: {\n            id\n        },\n        data\n    });\n    const member = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].member.update({\n        where: {\n            id: _officer.member_id\n        },\n        data: {\n            ...username && {\n                username\n            },\n            ...role_id && {\n                role_id\n            }\n        }\n    });\n    if (!member) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Update member failed.\", 400);\n    if (password) {\n        const member2 = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].member.update({\n            where: {\n                id: _officer.member_id\n            },\n            data: {\n                // ...(username && { username }),\n                ...password && {\n                    password: await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_2__.hash)(password, 10)\n                }\n            }\n        });\n        if (!member2) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Update member failed.\", 400);\n    }\n    if (!officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Update officer failed.\", 400);\n    return officer;\n};\nconst updateIsActive = async (id, is_active)=>{\n    const _officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.findUnique({\n        where: {\n            id\n        }\n    });\n    if (!_officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](`Officer with id: ${id} not found.`, 404);\n    const officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.update({\n        where: {\n            id\n        },\n        data: {\n            is_active\n        }\n    });\n    if (!officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Update officer failed.\", 400);\n    const member = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].member.update({\n        where: {\n            id: _officer.member_id\n        },\n        data: {\n            is_active\n        }\n    });\n    if (!member) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Update member failed.\", 400);\n    return officer;\n};\nconst deleteOfficer = async (id)=>{\n    const _officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.findUnique({\n        where: {\n            id\n        }\n    });\n    if (!_officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](`Officer with id: ${id} not found.`, 404);\n    const officer = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].officer.delete({\n        where: {\n            id\n        }\n    });\n    if (!officer) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Delete category failed.\", 400);\n    const member = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].member.delete({\n        where: {\n            id: _officer.member_id\n        }\n    });\n    if (!member) throw new _lib_server_error__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Update member failed.\", 400);\n    return officer;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliLXNlcnZlci9zZXJ2aWNlcy9vZmZpY2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlDO0FBQ0M7QUFRVjtBQUVXO0FBR3BDLE1BQU1JLGFBQWEsT0FBT0M7SUFDL0IsTUFBTUMsVUFBVSxNQUFNTiwwREFBTUEsQ0FBQ00sT0FBTyxDQUFDQyxVQUFVLENBQUM7UUFDOUNDLE9BQU87WUFBRUg7UUFBRztRQUNaSSxTQUFTO1lBQ1BDLE1BQU07WUFDTkMsUUFBUTtZQUNSQyxZQUFZO1FBQ2Q7SUFDRjtJQUVBLElBQUksQ0FBQ04sU0FBUyxNQUFNLElBQUlMLHlEQUFRQSxDQUFDLENBQUMsaUJBQWlCLEVBQUVJLEdBQUcsV0FBVyxDQUFDLEVBQUU7SUFFdEUsTUFBTVEsY0FBOEI7UUFDbENSLElBQUlDLFFBQVFELEVBQUU7UUFDZFMsWUFBWVIsUUFBUVEsVUFBVTtRQUM5QkMsWUFBWVQsUUFBUVMsVUFBVTtRQUM5QkMsV0FBV1YsUUFBUVUsU0FBUztRQUM1QkMsVUFBVVgsUUFBUVcsUUFBUSxJQUFJO1FBQzlCQyxjQUFjWixRQUFRWSxZQUFZLElBQUk7UUFDdENDLE9BQU9iLFFBQVFhLEtBQUssSUFBSTtRQUN4QkMsVUFBVWQsUUFBUUssTUFBTSxFQUFFUyxZQUFZO1FBQ3RDLDRDQUE0QztRQUM1Q0MsV0FBV2YsUUFBUWUsU0FBUztRQUM1QkMsVUFBVWhCLFFBQVFnQixRQUFRLElBQUk7UUFDOUJDLFlBQVlqQixRQUFRaUIsVUFBVSxJQUFJO1FBQ2xDQyxTQUFTbEIsUUFBUWtCLE9BQU87SUFDMUI7SUFFQSxPQUFPWDtBQUNULEVBQUU7QUFFRixNQUFNWSxlQUFlQyxTQUFTQyxHQUFzQztBQUU3RCxNQUFNRyxjQUFjLE9BQ3pCQyxrQkFBbUMsQ0FBQyxDQUFDO0lBRXJDLE1BQU0sRUFDSkMsT0FBTyxDQUFDLEVBQ1JDLFFBQVFSLFlBQVksRUFDcEJTLFVBQVUsRUFDVkMsT0FBTyxZQUFZLEVBQ25CQyxhQUFhLEVBQ2QsR0FB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QUFDVyxNQUFNLENBQUNnRSxNQUFNLENBQUM7UUFDeENuRSxPQUFPO1lBQUVILElBQUlxRSxTQUFTSixTQUFTO1FBQUM7UUFDaENELE1BQU07WUFDSmhEO1FBQ0Y7SUFDRjtJQUVBLElBQUksQ0FBQ1YsUUFBUSxNQUFNLElBQUlWLHlEQUFRQSxDQUFDLHlCQUF5QjtJQUV6RCxPQUFPSztBQUNULEVBQUU7QUFFSyxNQUFNd0UsZ0JBQWdCLE9BQU96RTtJQUNsQyxNQUFNcUUsV0FBVyxNQUFNMUUsMERBQU1BLENBQUNNLE9BQU8sQ0FBQ0MsVUFBVSxDQUFDO1FBQUVDLE9BQU87WUFBRUg7UUFBRztJQUFFO0lBQ2pFLElBQUksQ0FBQ3FFLFVBQVUsTUFBTSxJQUFJekUseURBQVFBLENBQUMsQ0FBQyxpQkFBaUIsRUFBRUksR0FBRyxXQUFXLENBQUMsRUFBRTtJQUV2RSxNQUFNQyxVQUFVLE1BQU1OLDBEQUFNQSxDQUFDTSxPQUFPLENBQUN5RSxNQUFNLENBQUM7UUFDMUN2RSxPQUFPO1lBQUVIO1FBQUc7SUFDZDtJQUVBLElBQUksQ0FBQ0MsU0FBUyxNQUFNLElBQUlMLHlEQUFRQSxDQUFDLDJCQUEyQjtJQUU1RCxNQUFNVSxTQUFTLE1BQU1YLDBEQUFNQSxDQUFDVyxNQUFNLENBQUNvRSxNQUFNLENBQUM7UUFDeEN2RSxPQUFPO1lBQUVILElBQUlxRSxTQUFTSixTQUFTO1FBQUM7SUFDbEM7SUFFQSxJQUFJLENBQUMzRCxRQUFRLE1BQU0sSUFBSVYseURBQVFBLENBQUMseUJBQXlCO0lBRXpELE9BQU9LO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BpcnVucmFqLy4vc3JjL2xpYi1zZXJ2ZXIvc2VydmljZXMvb2ZmaWNlci50cz84Y2ZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcmlzbWEgZnJvbSBcIkAvbGliLXNlcnZlci9wcmlzbWFcIjtcbmltcG9ydCBBcGlFcnJvciBmcm9tIFwiQC9saWItc2VydmVyL2Vycm9yXCI7XG5pbXBvcnQge1xuICBPZmZpY2VyQ3JlYXRlRGF0YSxcbiAgT2ZmaWNlckNyZWF0ZUZvcm1EYXRhLFxuICBPZmZpY2VyR2V0QnlJRCxcbiAgT2ZmaWNlcnNHZXREYXRhLFxuICBPZmZpY2VyVXBkYXRlRGF0YSxcbn0gZnJvbSBcIkAvdHlwZXMvbW9kZWxzXCI7XG5pbXBvcnQgeyBoYXNoIH0gZnJvbSBcImJjcnlwdGpzXCI7XG5pbXBvcnQgeyBQYWdpbmF0ZWRSZXNwb25zZSwgU29ydERpcmVjdGlvbiB9IGZyb20gXCJAL3R5cGVzXCI7XG5pbXBvcnQgeyBmaWx0ZXJTZWFyY2hUZXJtIH0gZnJvbSBcIkAvdXRpbHNcIjtcbmltcG9ydCB7IE9mZmljZXIsIFByaXNtYSB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5leHBvcnQgY29uc3QgZ2V0T2ZmaWNlciA9IGFzeW5jIChpZDogbnVtYmVyKTogUHJvbWlzZTxPZmZpY2VyR2V0QnlJRD4gPT4ge1xuICBjb25zdCBvZmZpY2VyID0gYXdhaXQgcHJpc21hLm9mZmljZXIuZmluZFVuaXF1ZSh7XG4gICAgd2hlcmU6IHsgaWQgfSxcbiAgICBpbmNsdWRlOiB7XG4gICAgICByb2xlOiB0cnVlLFxuICAgICAgbWVtYmVyOiB0cnVlLFxuICAgICAgQXR0YWNobWVudDogdHJ1ZSxcbiAgICB9LFxuICB9KTtcblxuICBpZiAoIW9mZmljZXIpIHRocm93IG5ldyBBcGlFcnJvcihgT2ZmaWNlciB3aXRoIGlkOiAke2lkfSBub3QgZm91bmQuYCwgNDA0KTtcblxuICBjb25zdCBvZmZpY2VyQnlJRDogT2ZmaWNlckdldEJ5SUQgPSB7XG4gICAgaWQ6IG9mZmljZXIuaWQsXG4gICAgY2l0aXplbl9pZDogb2ZmaWNlci5jaXRpemVuX2lkLFxuICAgIGZpcnN0X25hbWU6IG9mZmljZXIuZmlyc3RfbmFtZSxcbiAgICBsYXN0X25hbWU6IG9mZmljZXIubGFzdF9uYW1lLFxuICAgIG5pY2tuYW1lOiBvZmZpY2VyLm5pY2tuYW1lIHx8IFwiXCIsXG4gICAgbW9iaWxlX3Bob25lOiBvZmZpY2VyLm1vYmlsZV9waG9uZSB8fCBcIlwiLFxuICAgIGVtYWlsOiBvZmZpY2VyLmVtYWlsIHx8IFwiXCIsXG4gICAgdXNlcm5hbWU6IG9mZmljZXIubWVtYmVyPy51c2VybmFtZSB8fCBcIlwiLFxuICAgIC8vIHBhc3N3b3JkOiBvZmZpY2VyLm1lbWJlcj8ucGFzc3dvcmQgfHwgXCJcIixcbiAgICBpc19hY3RpdmU6IG9mZmljZXIuaXNfYWN0aXZlLFxuICAgIHBvc2l0aW9uOiBvZmZpY2VyLnBvc2l0aW9uIHx8IFwiXCIsXG4gICAgZGVwYXJ0bWVudDogb2ZmaWNlci5kZXBhcnRtZW50IHx8IFwiXCIsXG4gICAgcm9sZV9pZDogb2ZmaWNlci5yb2xlX2lkLFxuICB9O1xuXG4gIHJldHVybiBvZmZpY2VyQnlJRDtcbn07XG5cbmNvbnN0IGRlZmF1bHRMaW1pdCA9IHBhcnNlSW50KHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BPU1RTX1BFUl9QQUdFKTtcblxuZXhwb3J0IGNvbnN0IGdldE9mZmljZXJzID0gYXN5bmMgKFxuICBvZmZpY2Vyc0dldERhdGE6IE9mZmljZXJzR2V0RGF0YSA9IHt9XG4pOiBQcm9taXNlPFBhZ2luYXRlZFJlc3BvbnNlPE9mZmljZXI+PiA9PiB7XG4gIGNvbnN0IHtcbiAgICBwYWdlID0gMSxcbiAgICBsaW1pdCA9IGRlZmF1bHRMaW1pdCxcbiAgICBzZWFyY2hUZXJtLFxuICAgIHNvcnQgPSBcInVwZGF0ZWRfYXRcIixcbiAgICBzb3J0RGlyZWN0aW9uLFxuICB9ID0gb2ZmaWNlcnNHZXREYXRhO1xuXG4gIGNvbnN0IHNlYXJjaCA9IGZpbHRlclNlYXJjaFRlcm0oc2VhcmNoVGVybSk7XG5cbiAgY29uc3Qgd2hlcmU6IFByaXNtYS5PZmZpY2VyV2hlcmVJbnB1dCA9IHt9O1xuXG4gIGlmIChzZWFyY2gpIHtcbiAgICB3aGVyZS5maXJzdF9uYW1lID0geyBjb250YWluczogc2VhcmNoIH07XG4gIH1cblxuICBjb25zdCB0b3RhbENvdW50ID0gYXdhaXQgcHJpc21hLm9mZmljZXIuY291bnQoeyB3aGVyZSB9KTtcblxuICBsZXQgb2ZmaWNlcnMgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci5maW5kTWFueSh7XG4gICAgd2hlcmUsXG4gICAgc2tpcDogKHBhZ2UgLSAxKSAqIGxpbWl0LFxuICAgIHRha2U6IGxpbWl0LFxuICAgIGluY2x1ZGU6IHtcbiAgICAgIHJvbGU6IHRydWUsXG4gICAgICBtZW1iZXI6IHRydWUsXG4gICAgICBBdHRhY2htZW50OiB0cnVlLFxuICAgIH0sXG4gICAgb3JkZXJCeToge1xuICAgICAgW3NvcnRdOiBzb3J0RGlyZWN0aW9uIGFzIFNvcnREaXJlY3Rpb24sXG4gICAgfSxcbiAgfSk7XG5cbiAgb2ZmaWNlcnMgPSBBcnJheS5pc0FycmF5KG9mZmljZXJzKSA/IG9mZmljZXJzIDogW107XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGl0ZW1zOiBvZmZpY2Vycy5tYXAoKG9mZmljZXIpID0+IG9mZmljZXIpLFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIHRvdGFsOiB0b3RhbENvdW50LFxuICAgICAgcGFnZXNDb3VudDogTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdCksXG4gICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgIHBlclBhZ2U6IGxpbWl0LFxuICAgICAgZnJvbTogKHBhZ2UgLSAxKSAqIGxpbWl0ICsgMSwgLy8gZnJvbSBpdGVtXG4gICAgICB0bzogKHBhZ2UgLSAxKSAqIGxpbWl0ICsgb2ZmaWNlcnMubGVuZ3RoLFxuICAgICAgaGFzTW9yZTogcGFnZSA8IE1hdGguY2VpbCh0b3RhbENvdW50IC8gbGltaXQpLFxuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVPZmZpY2VyID0gYXN5bmMgKFxuICBjcmVhdGVEYXRhOiBPZmZpY2VyQ3JlYXRlRm9ybURhdGFcbik6IFByb21pc2U8T2ZmaWNlcj4gPT4ge1xuICAvLyB1bmlxdWUgY2l0aXplblxuICBjb25zdCBfdXNlcjEgPSBhd2FpdCBwcmlzbWEubWVtYmVyLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgdXNlcm5hbWU6IGNyZWF0ZURhdGEudXNlcm5hbWUgfSxcbiAgfSk7XG4gIGlmIChfdXNlcjEpXG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKFxuICAgICAgYFVzZXIgd2l0aCB1c2VybmFtZSA6ICR7Y3JlYXRlRGF0YS51c2VybmFtZX0gYWxyZWFkeSBleGlzdHMuYCxcbiAgICAgIDQwOVxuICAgICk7XG5cbiAgY29uc3QgcGFzc3dvcmQgPSBhd2FpdCBoYXNoKGNyZWF0ZURhdGEucGFzc3dvcmQsIDEwKTtcblxuICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLm1lbWJlci5jcmVhdGUoe1xuICAgIGRhdGE6IHtcbiAgICAgIHVzZXJuYW1lOiBjcmVhdGVEYXRhLnVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgcm9sZV9pZDogY3JlYXRlRGF0YS5yb2xlX2lkLFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IG9mZmljZXIgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci5jcmVhdGUoe1xuICAgIGRhdGE6IHtcbiAgICAgIGNpdGl6ZW5faWQ6IGNyZWF0ZURhdGEuY2l0aXplbl9pZCxcbiAgICAgIGZpcnN0X25hbWU6IGNyZWF0ZURhdGEuZmlyc3RfbmFtZSxcbiAgICAgIGxhc3RfbmFtZTogY3JlYXRlRGF0YS5sYXN0X25hbWUsXG4gICAgICBuaWNrbmFtZTogY3JlYXRlRGF0YS5uaWNrbmFtZSxcbiAgICAgIG1vYmlsZV9waG9uZTogY3JlYXRlRGF0YS5tb2JpbGVfcGhvbmUsXG4gICAgICBlbWFpbDogY3JlYXRlRGF0YS5lbWFpbCxcbiAgICAgIHBvc2l0aW9uOiBjcmVhdGVEYXRhLnBvc2l0aW9uLFxuICAgICAgZGVwYXJ0bWVudDogY3JlYXRlRGF0YS5kZXBhcnRtZW50LFxuICAgICAgaXNfYWN0aXZlOiB0cnVlLFxuICAgICAgbWVtYmVyX2lkOiB1c2VyLmlkLFxuICAgICAgcm9sZV9pZDogY3JlYXRlRGF0YS5yb2xlX2lkLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICghb2ZmaWNlcikgdGhyb3cgbmV3IEFwaUVycm9yKFwiT2ZmaWNlciBub3QgY3JlYXRlZC5cIiwgNDAwKTtcblxuICAvLyBjb252ZXJ0IE9mZmljZXIgdG8gT2ZmaWNlcldpdGhBdXRob3JcbiAgY29uc3Qgb2ZmaWNlcldpdGhBdXRob3IgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci5maW5kVW5pcXVlKHtcbiAgICB3aGVyZToge1xuICAgICAgaWQ6IG9mZmljZXIuaWQsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKCFvZmZpY2VyV2l0aEF1dGhvcikgdGhyb3cgbmV3IEFwaUVycm9yKFwiQ3JlYXRlIGNhdGVnb3J5IGZhaWxlZC5cIiwgNDAwKTtcblxuICByZXR1cm4gb2ZmaWNlcldpdGhBdXRob3I7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlT2ZmaWNlciA9IGFzeW5jIChcbiAgaWQ6IG51bWJlcixcbiAgb2ZmaWNlclVwZGF0ZURhdGE6IE9mZmljZXJDcmVhdGVGb3JtRGF0YVxuKTogUHJvbWlzZTxPZmZpY2VyPiA9PiB7XG4gIGNvbnN0IHtcbiAgICBlbWFpbCxcbiAgICBmaXJzdF9uYW1lLFxuICAgIGlzX2FjdGl2ZSxcbiAgICBsYXN0X25hbWUsXG4gICAgbmlja25hbWUsXG4gICAgbW9iaWxlX3Bob25lLFxuICAgIGNpdGl6ZW5faWQsXG4gICAgcG9zaXRpb24sXG4gICAgZGVwYXJ0bWVudCxcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgICByb2xlX2lkLFxuICB9ID0gb2ZmaWNlclVwZGF0ZURhdGE7XG5cbiAgY29uc3QgX29mZmljZXIgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQgfSB9KTtcbiAgaWYgKCFfb2ZmaWNlcikgdGhyb3cgbmV3IEFwaUVycm9yKGBPZmZpY2VyIHdpdGggaWQ6ICR7aWR9IG5vdCBmb3VuZC5gLCA0MDQpO1xuXG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgLi4uKGVtYWlsICYmIHsgZW1haWwgfSksXG4gICAgLi4uKG5pY2tuYW1lICYmIHsgbmlja25hbWUgfSksXG4gICAgLi4uKGZpcnN0X25hbWUgJiYgeyBmaXJzdF9uYW1lIH0pLFxuICAgIC4uLihpc19hY3RpdmUgJiYgeyBpc19hY3RpdmUgfSksXG4gICAgLi4uKGxhc3RfbmFtZSAmJiB7IGxhc3RfbmFtZSB9KSxcbiAgICAuLi4obW9iaWxlX3Bob25lICYmIHsgbW9iaWxlX3Bob25lIH0pLFxuICAgIC4uLihjaXRpemVuX2lkICYmIHsgY2l0aXplbl9pZCB9KSxcbiAgICAuLi4ocG9zaXRpb24gJiYgeyBwb3NpdGlvbiB9KSxcbiAgICAuLi4oZGVwYXJ0bWVudCAmJiB7IGRlcGFydG1lbnQgfSksXG4gICAgLi4uKHJvbGVfaWQgJiYgeyByb2xlX2lkIH0pLFxuICB9O1xuXG4gIGNvbnN0IG9mZmljZXIgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci51cGRhdGUoe1xuICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgZGF0YSxcbiAgfSk7XG5cbiAgY29uc3QgbWVtYmVyID0gYXdhaXQgcHJpc21hLm1lbWJlci51cGRhdGUoe1xuICAgIHdoZXJlOiB7IGlkOiBfb2ZmaWNlci5tZW1iZXJfaWQgfSxcbiAgICBkYXRhOiB7XG4gICAgICAuLi4odXNlcm5hbWUgJiYgeyB1c2VybmFtZSB9KSxcbiAgICAgIC4uLihyb2xlX2lkICYmIHsgcm9sZV9pZCB9KSxcbiAgICAgIC8vIC4uLihwYXNzd29yZCAmJiB7IHBhc3N3b3JkOiBhd2FpdCBoYXNoKHBhc3N3b3JkLCAxMCkgfSksXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKCFtZW1iZXIpIHRocm93IG5ldyBBcGlFcnJvcihcIlVwZGF0ZSBtZW1iZXIgZmFpbGVkLlwiLCA0MDApO1xuXG4gIGlmIChwYXNzd29yZCkge1xuICAgIGNvbnN0IG1lbWJlcjIgPSBhd2FpdCBwcmlzbWEubWVtYmVyLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogX29mZmljZXIubWVtYmVyX2lkIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIC8vIC4uLih1c2VybmFtZSAmJiB7IHVzZXJuYW1lIH0pLFxuICAgICAgICAuLi4ocGFzc3dvcmQgJiYgeyBwYXNzd29yZDogYXdhaXQgaGFzaChwYXNzd29yZCwgMTApIH0pLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghbWVtYmVyMikgdGhyb3cgbmV3IEFwaUVycm9yKFwiVXBkYXRlIG1lbWJlciBmYWlsZWQuXCIsIDQwMCk7XG4gIH1cblxuICBpZiAoIW9mZmljZXIpIHRocm93IG5ldyBBcGlFcnJvcihcIlVwZGF0ZSBvZmZpY2VyIGZhaWxlZC5cIiwgNDAwKTtcblxuICByZXR1cm4gb2ZmaWNlcjtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVJc0FjdGl2ZSA9IGFzeW5jIChpZDogbnVtYmVyLCBpc19hY3RpdmU6IGJvb2xlYW4pID0+IHtcbiAgY29uc3QgX29mZmljZXIgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQgfSB9KTtcbiAgaWYgKCFfb2ZmaWNlcikgdGhyb3cgbmV3IEFwaUVycm9yKGBPZmZpY2VyIHdpdGggaWQ6ICR7aWR9IG5vdCBmb3VuZC5gLCA0MDQpO1xuXG4gIGNvbnN0IG9mZmljZXIgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci51cGRhdGUoe1xuICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgZGF0YToge1xuICAgICAgaXNfYWN0aXZlLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICghb2ZmaWNlcikgdGhyb3cgbmV3IEFwaUVycm9yKFwiVXBkYXRlIG9mZmljZXIgZmFpbGVkLlwiLCA0MDApO1xuXG4gIGNvbnN0IG1lbWJlciA9IGF3YWl0IHByaXNtYS5tZW1iZXIudXBkYXRlKHtcbiAgICB3aGVyZTogeyBpZDogX29mZmljZXIubWVtYmVyX2lkIH0sXG4gICAgZGF0YToge1xuICAgICAgaXNfYWN0aXZlLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICghbWVtYmVyKSB0aHJvdyBuZXcgQXBpRXJyb3IoXCJVcGRhdGUgbWVtYmVyIGZhaWxlZC5cIiwgNDAwKTtcblxuICByZXR1cm4gb2ZmaWNlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVPZmZpY2VyID0gYXN5bmMgKGlkOiBudW1iZXIpOiBQcm9taXNlPE9mZmljZXI+ID0+IHtcbiAgY29uc3QgX29mZmljZXIgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQgfSB9KTtcbiAgaWYgKCFfb2ZmaWNlcikgdGhyb3cgbmV3IEFwaUVycm9yKGBPZmZpY2VyIHdpdGggaWQ6ICR7aWR9IG5vdCBmb3VuZC5gLCA0MDQpO1xuXG4gIGNvbnN0IG9mZmljZXIgPSBhd2FpdCBwcmlzbWEub2ZmaWNlci5kZWxldGUoe1xuICAgIHdoZXJlOiB7IGlkIH0sXG4gIH0pO1xuXG4gIGlmICghb2ZmaWNlcikgdGhyb3cgbmV3IEFwaUVycm9yKFwiRGVsZXRlIGNhdGVnb3J5IGZhaWxlZC5cIiwgNDAwKTtcblxuICBjb25zdCBtZW1iZXIgPSBhd2FpdCBwcmlzbWEubWVtYmVyLmRlbGV0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IF9vZmZpY2VyLm1lbWJlcl9pZCB9LFxuICB9KTtcbiAgXG4gIGlmICghbWVtYmVyKSB0aHJvdyBuZXcgQXBpRXJyb3IoXCJVcGRhdGUgbWVtYmVyIGZhaWxlZC5cIiwgNDAwKTtcblxuICByZXR1cm4gb2ZmaWNlcjtcbn07XG4iXSwibmFtZXMiOlsicHJpc21hIiwiQXBpRXJyb3IiLCJoYXNoIiwiZmlsdGVyU2VhcmNoVGVybSIsImdldE9mZmljZXIiLCJpZCIsIm9mZmljZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwicm9sZSIsIm1lbWJlciIsIkF0dGFjaG1lbnQiLCJvZmZpY2VyQnlJRCIsImNpdGl6ZW5faWQiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwibmlja25hbWUiLCJtb2JpbGVfcGhvbmUiLCJlbWFpbCIsInVzZXJuYW1lIiwiaXNfYWN0aXZlIiwicG9zaXRpb24iLCJkZXBhcnRtZW50Iiwicm9sZV9pZCIsImRlZmF1bHRMaW1pdCIsInBhcnNlSW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1BPU1RTX1BFUl9QQUdFIiwiZ2V0T2ZmaWNlcnMiLCJvZmZpY2Vyc0dldERhdGEiLCJwYWdlIiwibGltaXQiLCJzZWFyY2hUZXJtIiwic29ydCIsInNvcnREaXJlY3Rpb24iLCJzZWFyY2giLCJjb250YWlucyIsInRvdGFsQ291bnQiLCJjb3VudCIsIm9mZmljZXJzIiwiZmluZE1hbnkiLCJza2lwIiwidGFrZSIsIm9yZGVyQnkiLCJBcnJheSIsImlzQXJyYXkiLCJyZXN1bHQiLCJpdGVtcyIsIm1hcCIsInBhZ2luYXRpb24iLCJ0b3RhbCIsInBhZ2VzQ291bnQiLCJNYXRoIiwiY2VpbCIsImN1cnJlbnRQYWdlIiwicGVyUGFnZSIsImZyb20iLCJ0byIsImxlbmd0aCIsImhhc01vcmUiLCJjcmVhdGVPZmZpY2VyIiwiY3JlYXRlRGF0YSIsIl91c2VyMSIsImZpbmRGaXJzdCIsInBhc3N3b3JkIiwidXNlciIsImNyZWF0ZSIsImRhdGEiLCJtZW1iZXJfaWQiLCJvZmZpY2VyV2l0aEF1dGhvciIsInVwZGF0ZU9mZmljZXIiLCJvZmZpY2VyVXBkYXRlRGF0YSIsIl9vZmZpY2VyIiwidXBkYXRlIiwibWVtYmVyMiIsInVwZGF0ZUlzQWN0aXZlIiwiZGVsZXRlT2ZmaWNlciIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib-server/services/officer.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib-server/validation.ts":
/*!**************************************!*\
  !*** ./src/lib-server/validation.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   agentLoginSchema: () => (/* binding */ agentLoginSchema),\n/* harmony export */   agentRegisterSchema: () => (/* binding */ agentRegisterSchema),\n/* harmony export */   agentUpdateSchema: () => (/* binding */ agentUpdateSchema),\n/* harmony export */   agentsGetSchema: () => (/* binding */ agentsGetSchema),\n/* harmony export */   queryLimitMax: () => (/* binding */ queryLimitMax),\n/* harmony export */   stringToBoolean: () => (/* binding */ stringToBoolean),\n/* harmony export */   stringToNumber: () => (/* binding */ stringToNumber),\n/* harmony export */   userGetSchema: () => (/* binding */ userGetSchema),\n/* harmony export */   userIdCuidSchema: () => (/* binding */ userIdCuidSchema),\n/* harmony export */   userLoginSchema: () => (/* binding */ userLoginSchema),\n/* harmony export */   userRegisterSchema: () => (/* binding */ userRegisterSchema),\n/* harmony export */   userUpdateSchema: () => (/* binding */ userUpdateSchema),\n/* harmony export */   usersGetSchema: () => (/* binding */ usersGetSchema),\n/* harmony export */   validateUserIdCuid: () => (/* binding */ validateUserIdCuid),\n/* harmony export */   validateUserSearchQueryParams: () => (/* binding */ validateUserSearchQueryParams),\n/* harmony export */   validateUsersSearchQueryParams: () => (/* binding */ validateUsersSearchQueryParams)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_server_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib-server/error */ \"(rsc)/./src/lib-server/error.ts\");\n\n\nconst passwordMin = 6, passwordMax = 20, nameMin = 3, nameMax = 25, usernameMin = 3, usernameMax = 15;\nconst userGetSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().cuid().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    email: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().email().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    username: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(usernameMin).max(usernameMax).optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\"))\n}).refine((data)=>data.id || data.username || data.email, \"Either id, username or email should be specified.\");\nconst userLoginSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    username: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    password: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(passwordMin).max(passwordMax)\n});\nconst agentLoginSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    username: zod__WEBPACK_IMPORTED_MODULE_1__.z.string(),\n    password: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(passwordMin).max(passwordMax)\n});\nconst userRegisterSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    citizen_id: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(13).max(13),\n    mobile_phone: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(10).max(10),\n    email: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().email().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    title_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    first_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax),\n    last_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax),\n    gender: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    password: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(passwordMin).max(passwordMax),\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\"))\n}).refine((data)=>data.confirmPassword === data.password, {\n    message: \"Passwords don't match.\",\n    path: [\n        \"confirmPassword\"\n    ]\n});\nconst agentRegisterSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    username: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(usernameMin).max(usernameMax),\n    email: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().email().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    password: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(passwordMin).max(passwordMax),\n    // +\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    first_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax),\n    last_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax),\n    role_id: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().min(1),\n    organization_id: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().array().min(1)\n}).refine((data)=>data.confirmPassword === data.password, {\n    message: \"Passwords don't match.\",\n    path: [\n        \"confirmPassword\"\n    ]\n});\nconst userUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    password: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(passwordMin).max(passwordMax).optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    first_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax).optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    last_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax).optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\"))\n});\nconst agentUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    password: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(passwordMin).max(passwordMax).optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    first_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax).optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    last_name: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(nameMin).max(nameMax).optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\"))\n});\n// query params numbers are strings, parse them before validating\n// only req.query are strings, req.body preservs correct types\nconst stringToNumber = (numberArg)=>{\n    const numberStr = numberArg;\n    const result = numberStr ? parseInt(zod__WEBPACK_IMPORTED_MODULE_1__.z.string().parse(numberStr), 10) : undefined;\n    return result;\n};\nconst stringToBoolean = (booleanArg)=>{\n    // convert (arg: string): boolean | undefined to (arg: unknown): unknown\n    const booleanStr = booleanArg;\n    const result = booleanStr ? zod__WEBPACK_IMPORTED_MODULE_1__.z.string().parse(booleanStr) === \"true\" : undefined;\n    return result;\n};\nconst queryLimitMax = 100;\nconst usersGetSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    page: zod__WEBPACK_IMPORTED_MODULE_1__.z.preprocess(stringToNumber, zod__WEBPACK_IMPORTED_MODULE_1__.z.number().min(1).optional()),\n    limit: zod__WEBPACK_IMPORTED_MODULE_1__.z.preprocess(stringToNumber, zod__WEBPACK_IMPORTED_MODULE_1__.z.number().min(1).max(queryLimitMax).optional()),\n    searchTerm: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    sortDirection: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")).or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"asc\")).or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"desc\"))\n});\nconst agentsGetSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    page: zod__WEBPACK_IMPORTED_MODULE_1__.z.preprocess(stringToNumber, zod__WEBPACK_IMPORTED_MODULE_1__.z.number().min(1).optional()),\n    limit: zod__WEBPACK_IMPORTED_MODULE_1__.z.preprocess(stringToNumber, zod__WEBPACK_IMPORTED_MODULE_1__.z.number().min(1).max(queryLimitMax).optional()),\n    searchTerm: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")),\n    sortDirection: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().optional().or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"\")).or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"asc\")).or(zod__WEBPACK_IMPORTED_MODULE_1__.z.literal(\"desc\"))\n});\n// ----------- manual validation with safeParse() -------------\nconst validateUserIdCuid = (id)=>{\n    const result = userIdCuidSchema.safeParse({\n        id\n    });\n    if (!result.success) throw _lib_server_error__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromZodError(result.error);\n    return result.data.id;\n};\n// 1 user\nconst validateUserSearchQueryParams = (params)=>{\n    const result = userGetSchema.safeParse(params);\n    if (!result.success) throw _lib_server_error__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromZodError(result.error);\n    return result.data;\n};\n// ----------- convert types with safeParse() -------------\n// n users\nconst validateUsersSearchQueryParams = (params)=>{\n    const result = usersGetSchema.safeParse(params);\n    if (!result.success) throw _lib_server_error__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fromZodError(result.error);\n    return result.data;\n};\nconst userIdCuidSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().cuid()\n}); // --------------- post ---------------\n // ----------- manual validation with safeParse() -------------\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCIsInNvdXJjZXMiOlsid2VicGFjazovL3BpcnVucmFqLy4vc3JjL2xpYi1zZXJ2ZXIvdmFsaWRhdGlvbi50cz8yYzFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgQXBpRXJyb3IgZnJvbSBcIkAvbGliLXNlcnZlci9lcnJvclwiO1xuaW1wb3J0IHsgUXVlcnlQYXJhbXNUeXBlIH0gZnJvbSBcIkAvdHlwZXNcIjtcbmltcG9ydCB7IFVzZXJHZXREYXRhLCBVc2Vyc0dldERhdGEgfSBmcm9tIFwiQC90eXBlcy9tb2RlbHMvVXNlclwiO1xuXG5jb25zdCBwYXNzd29yZE1pbiA9IDYsXG4gIHBhc3N3b3JkTWF4ID0gMjAsXG4gIG5hbWVNaW4gPSAzLFxuICBuYW1lTWF4ID0gMjUsXG4gIHVzZXJuYW1lTWluID0gMyxcbiAgdXNlcm5hbWVNYXggPSAxNTtcblxuZXhwb3J0IGNvbnN0IHVzZXJHZXRTY2hlbWEgPSB6XG4gIC5vYmplY3Qoe1xuICAgIGlkOiB6LnN0cmluZygpLmN1aWQoKS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gICAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gICAgdXNlcm5hbWU6IHpcbiAgICAgIC5zdHJpbmcoKVxuICAgICAgLm1pbih1c2VybmFtZU1pbilcbiAgICAgIC5tYXgodXNlcm5hbWVNYXgpXG4gICAgICAub3B0aW9uYWwoKVxuICAgICAgLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIH0pXG4gIC5yZWZpbmUoXG4gICAgKGRhdGEpID0+IGRhdGEuaWQgfHwgZGF0YS51c2VybmFtZSB8fCBkYXRhLmVtYWlsLCAvLyBmYWxzZSB0cmlnZ2VycyBtZXNzYWdlXG4gICAgXCJFaXRoZXIgaWQsIHVzZXJuYW1lIG9yIGVtYWlsIHNob3VsZCBiZSBzcGVjaWZpZWQuXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHVzZXJMb2dpblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdXNlcm5hbWU6IHouc3RyaW5nKCksXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbihwYXNzd29yZE1pbikubWF4KHBhc3N3b3JkTWF4KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgYWdlbnRMb2dpblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdXNlcm5hbWU6IHouc3RyaW5nKCksXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbihwYXNzd29yZE1pbikubWF4KHBhc3N3b3JkTWF4KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlclJlZ2lzdGVyU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICBjaXRpemVuX2lkOiB6LnN0cmluZygpLm1pbigxMykubWF4KDEzKSxcbiAgICBtb2JpbGVfcGhvbmU6IHouc3RyaW5nKCkubWluKDEwKS5tYXgoMTApLFxuICAgIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICAgIHRpdGxlX25hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICAgIGZpcnN0X25hbWU6IHouc3RyaW5nKCkubWluKG5hbWVNaW4pLm1heChuYW1lTWF4KSxcbiAgICBsYXN0X25hbWU6IHouc3RyaW5nKCkubWluKG5hbWVNaW4pLm1heChuYW1lTWF4KSxcbiAgICBnZW5kZXI6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICAgIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbihwYXNzd29yZE1pbikubWF4KHBhc3N3b3JkTWF4KSxcbiAgICBjb25maXJtUGFzc3dvcmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICB9KVxuICAucmVmaW5lKChkYXRhKSA9PiBkYXRhLmNvbmZpcm1QYXNzd29yZCA9PT0gZGF0YS5wYXNzd29yZCwge1xuICAgIG1lc3NhZ2U6IFwiUGFzc3dvcmRzIGRvbid0IG1hdGNoLlwiLFxuICAgIHBhdGg6IFtcImNvbmZpcm1QYXNzd29yZFwiXSxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBhZ2VudFJlZ2lzdGVyU2NoZW1hID0gelxuICAub2JqZWN0KHtcbiAgICB1c2VybmFtZTogei5zdHJpbmcoKS5taW4odXNlcm5hbWVNaW4pLm1heCh1c2VybmFtZU1heCksXG4gICAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gICAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKHBhc3N3b3JkTWluKS5tYXgocGFzc3dvcmRNYXgpLFxuICAgIC8vICtcbiAgICBjb25maXJtUGFzc3dvcmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICAgIGZpcnN0X25hbWU6IHouc3RyaW5nKCkubWluKG5hbWVNaW4pLm1heChuYW1lTWF4KSxcbiAgICBsYXN0X25hbWU6IHouc3RyaW5nKCkubWluKG5hbWVNaW4pLm1heChuYW1lTWF4KSxcbiAgICByb2xlX2lkOiB6Lm51bWJlcigpLm1pbigxKSxcbiAgICBvcmdhbml6YXRpb25faWQ6IHoubnVtYmVyKCkuYXJyYXkoKS5taW4oMSksXG4gIH0pXG4gIC5yZWZpbmUoKGRhdGEpID0+IGRhdGEuY29uZmlybVBhc3N3b3JkID09PSBkYXRhLnBhc3N3b3JkLCB7XG4gICAgbWVzc2FnZTogXCJQYXNzd29yZHMgZG9uJ3QgbWF0Y2guXCIsXG4gICAgcGF0aDogW1wiY29uZmlybVBhc3N3b3JkXCJdLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHVzZXJVcGRhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHBhc3N3b3JkOiB6XG4gICAgLnN0cmluZygpXG4gICAgLm1pbihwYXNzd29yZE1pbilcbiAgICAubWF4KHBhc3N3b3JkTWF4KVxuICAgIC5vcHRpb25hbCgpXG4gICAgLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIGZpcnN0X25hbWU6IHouc3RyaW5nKCkubWluKG5hbWVNaW4pLm1heChuYW1lTWF4KS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIGxhc3RfbmFtZTogei5zdHJpbmcoKS5taW4obmFtZU1pbikubWF4KG5hbWVNYXgpLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKFwiXCIpKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgYWdlbnRVcGRhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHBhc3N3b3JkOiB6XG4gICAgLnN0cmluZygpXG4gICAgLm1pbihwYXNzd29yZE1pbilcbiAgICAubWF4KHBhc3N3b3JkTWF4KVxuICAgIC5vcHRpb25hbCgpXG4gICAgLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIGZpcnN0X25hbWU6IHouc3RyaW5nKCkubWluKG5hbWVNaW4pLm1heChuYW1lTWF4KS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIGxhc3RfbmFtZTogei5zdHJpbmcoKS5taW4obmFtZU1pbikubWF4KG5hbWVNYXgpLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKFwiXCIpKSxcbn0pO1xuXG4vLyBxdWVyeSBwYXJhbXMgbnVtYmVycyBhcmUgc3RyaW5ncywgcGFyc2UgdGhlbSBiZWZvcmUgdmFsaWRhdGluZ1xuLy8gb25seSByZXEucXVlcnkgYXJlIHN0cmluZ3MsIHJlcS5ib2R5IHByZXNlcnZzIGNvcnJlY3QgdHlwZXNcbmV4cG9ydCBjb25zdCBzdHJpbmdUb051bWJlciA9IChudW1iZXJBcmc6IHVua25vd24pOiB1bmtub3duID0+IHtcbiAgY29uc3QgbnVtYmVyU3RyID0gbnVtYmVyQXJnIGFzIHN0cmluZztcbiAgY29uc3QgcmVzdWx0ID0gbnVtYmVyU3RyXG4gICAgPyBwYXJzZUludCh6LnN0cmluZygpLnBhcnNlKG51bWJlclN0ciksIDEwKVxuICAgIDogdW5kZWZpbmVkO1xuICByZXR1cm4gcmVzdWx0IGFzIHVua25vd247XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyaW5nVG9Cb29sZWFuID0gKGJvb2xlYW5Bcmc6IHVua25vd24pOiB1bmtub3duID0+IHtcbiAgLy8gY29udmVydCAoYXJnOiBzdHJpbmcpOiBib29sZWFuIHwgdW5kZWZpbmVkIHRvIChhcmc6IHVua25vd24pOiB1bmtub3duXG4gIGNvbnN0IGJvb2xlYW5TdHIgPSBib29sZWFuQXJnIGFzIHN0cmluZztcbiAgY29uc3QgcmVzdWx0ID0gYm9vbGVhblN0clxuICAgID8gei5zdHJpbmcoKS5wYXJzZShib29sZWFuU3RyKSA9PT0gXCJ0cnVlXCJcbiAgICA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIHJlc3VsdCBhcyB1bmtub3duO1xufTtcblxuZXhwb3J0IGNvbnN0IHF1ZXJ5TGltaXRNYXggPSAxMDA7XG5cbmV4cG9ydCBjb25zdCB1c2Vyc0dldFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcGFnZTogei5wcmVwcm9jZXNzKHN0cmluZ1RvTnVtYmVyLCB6Lm51bWJlcigpLm1pbigxKS5vcHRpb25hbCgpKSxcbiAgbGltaXQ6IHoucHJlcHJvY2VzcyhcbiAgICBzdHJpbmdUb051bWJlcixcbiAgICB6Lm51bWJlcigpLm1pbigxKS5tYXgocXVlcnlMaW1pdE1heCkub3B0aW9uYWwoKVxuICApLFxuICBzZWFyY2hUZXJtOiB6LnN0cmluZygpLm9wdGlvbmFsKCkub3Ioei5saXRlcmFsKFwiXCIpKSxcbiAgc29ydERpcmVjdGlvbjogelxuICAgIC5zdHJpbmcoKVxuICAgIC5vcHRpb25hbCgpXG4gICAgLm9yKHoubGl0ZXJhbChcIlwiKSlcbiAgICAub3Ioei5saXRlcmFsKFwiYXNjXCIpKVxuICAgIC5vcih6LmxpdGVyYWwoXCJkZXNjXCIpKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgYWdlbnRzR2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICBwYWdlOiB6LnByZXByb2Nlc3Moc3RyaW5nVG9OdW1iZXIsIHoubnVtYmVyKCkubWluKDEpLm9wdGlvbmFsKCkpLFxuICBsaW1pdDogei5wcmVwcm9jZXNzKFxuICAgIHN0cmluZ1RvTnVtYmVyLFxuICAgIHoubnVtYmVyKCkubWluKDEpLm1heChxdWVyeUxpbWl0TWF4KS5vcHRpb25hbCgpXG4gICksXG4gIHNlYXJjaFRlcm06IHouc3RyaW5nKCkub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoXCJcIikpLFxuICBzb3J0RGlyZWN0aW9uOiB6XG4gICAgLnN0cmluZygpXG4gICAgLm9wdGlvbmFsKClcbiAgICAub3Ioei5saXRlcmFsKFwiXCIpKVxuICAgIC5vcih6LmxpdGVyYWwoXCJhc2NcIikpXG4gICAgLm9yKHoubGl0ZXJhbChcImRlc2NcIikpLFxufSk7XG5cbi8vIC0tLS0tLS0tLS0tIG1hbnVhbCB2YWxpZGF0aW9uIHdpdGggc2FmZVBhcnNlKCkgLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVVc2VySWRDdWlkID0gKGlkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCByZXN1bHQgPSB1c2VySWRDdWlkU2NoZW1hLnNhZmVQYXJzZSh7IGlkIH0pO1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB0aHJvdyBBcGlFcnJvci5mcm9tWm9kRXJyb3IocmVzdWx0LmVycm9yKTtcblxuICByZXR1cm4gcmVzdWx0LmRhdGEuaWQ7XG59O1xuXG4vLyAxIHVzZXJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVVzZXJTZWFyY2hRdWVyeVBhcmFtcyA9IChcbiAgcGFyYW1zOiBRdWVyeVBhcmFtc1R5cGVcbik6IFVzZXJHZXREYXRhID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gdXNlckdldFNjaGVtYS5zYWZlUGFyc2UocGFyYW1zKTtcbiAgaWYgKCFyZXN1bHQuc3VjY2VzcykgdGhyb3cgQXBpRXJyb3IuZnJvbVpvZEVycm9yKHJlc3VsdC5lcnJvcik7XG5cbiAgcmV0dXJuIHJlc3VsdC5kYXRhIGFzIFVzZXJHZXREYXRhO1xufTtcblxuLy8gLS0tLS0tLS0tLS0gY29udmVydCB0eXBlcyB3aXRoIHNhZmVQYXJzZSgpIC0tLS0tLS0tLS0tLS1cblxuLy8gbiB1c2Vyc1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlcnNTZWFyY2hRdWVyeVBhcmFtcyA9IChcbiAgcGFyYW1zOiBRdWVyeVBhcmFtc1R5cGVcbik6IFVzZXJzR2V0RGF0YSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZXJzR2V0U2NoZW1hLnNhZmVQYXJzZShwYXJhbXMpO1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB0aHJvdyBBcGlFcnJvci5mcm9tWm9kRXJyb3IocmVzdWx0LmVycm9yKTtcblxuICByZXR1cm4gcmVzdWx0LmRhdGEgYXMgVXNlcnNHZXREYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZXJJZEN1aWRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlkOiB6LnN0cmluZygpLmN1aWQoKSxcbn0pO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0gcG9zdCAtLS0tLS0tLS0tLS0tLS1cblxuLy8gLS0tLS0tLS0tLS0gbWFudWFsIHZhbGlkYXRpb24gd2l0aCBzYWZlUGFyc2UoKSAtLS0tLS0tLS0tLS0tXG4iXSwibmFtZXMiOlsieiIsIkFwaUVycm9yIiwicGFzc3dvcmRNaW4iLCJwYXNzd29yZE1heCIsIm5hbWVNaW4iLCJuYW1lTWF4IiwidXNlcm5hbWVNaW4iLCJ1c2VybmFtZU1heCIsInVzZXJHZXRTY2hlbWEiLCJvYmplY3QiLCJpZCIsInN0cmluZyIsImN1aWQiLCJvcHRpb25hbCIsIm9yIiwibGl0ZXJhbCIsImVtYWlsIiwidXNlcm5hbWUiLCJtaW4iLCJtYXgiLCJyZWZpbmUiLCJkYXRhIiwidXNlckxvZ2luU2NoZW1hIiwicGFzc3dvcmQiLCJhZ2VudExvZ2luU2NoZW1hIiwidXNlclJlZ2lzdGVyU2NoZW1hIiwiY2l0aXplbl9pZCIsIm1vYmlsZV9waG9uZSIsInRpdGxlX25hbWUiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZ2VuZGVyIiwiY29uZmlybVBhc3N3b3JkIiwibWVzc2FnZSIsInBhdGgiLCJhZ2VudFJlZ2lzdGVyU2NoZW1hIiwicm9sZV9pZCIsIm51bWJlciIsIm9yZ2FuaXphdGlvbl9pZCIsImFycmF5IiwidXNlclVwZGF0ZVNjaGVtYSIsImFnZW50VXBkYXRlU2NoZW1hIiwic3RyaW5nVG9OdW1iZXIiLCJudW1iZXJBcmciLCJudW1iZXJTdHIiLCJyZXN1bHQiLCJwYXJzZUludCIsInBhcnNlIiwidW5kZWZpbmVkIiwic3RyaW5nVG9Cb29sZWFuIiwiYm9vbGVhbkFyZyIsImJvb2xlYW5TdHIiLCJxdWVyeUxpbWl0TWF4IiwidXNlcnNHZXRTY2hlbWEiLCJwYWdlIiwicHJlcHJvY2VzcyIsImxpbWl0Iiwic2VhcmNoVGVybSIsInNvcnREaXJlY3Rpb24iLCJhZ2VudHNHZXRTY2hlbWEiLCJ2YWxpZGF0ZVVzZXJJZEN1aWQiLCJ1c2VySWRDdWlkU2NoZW1hIiwic2FmZVBhcnNlIiwic3VjY2VzcyIsImZyb21ab2RFcnJvciIsImVycm9yIiwidmFsaWRhdGVVc2VyU2VhcmNoUXVlcnlQYXJhbXMiLCJwYXJhbXMiLCJ2YWxpZGF0ZVVzZXJzU2VhcmNoUXVlcnlQYXJhbXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib-server/validation.ts\n");

/***/ }),

/***/ "(rsc)/./src/utils/index.ts":
/*!****************************!*\
  !*** ./src/utils/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertDateToString: () => (/* binding */ convertDateToString),\n/* harmony export */   convertDateToStringWithTime: () => (/* binding */ convertDateToStringWithTime),\n/* harmony export */   convertToThaiFormat: () => (/* binding */ convertToThaiFormat),\n/* harmony export */   convertToThaiFormatTime: () => (/* binding */ convertToThaiFormatTime),\n/* harmony export */   digitsOnly: () => (/* binding */ digitsOnly),\n/* harmony export */   filterSearchTerm: () => (/* binding */ filterSearchTerm),\n/* harmony export */   getRandomInteger: () => (/* binding */ getRandomInteger),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser),\n/* harmony export */   isGithubActionsAppEnv: () => (/* binding */ isGithubActionsAppEnv),\n/* harmony export */   isUrl: () => (/* binding */ isUrl),\n/* harmony export */   rootDirAbsolutePath: () => (/* binding */ rootDirAbsolutePath),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   uniqueString: () => (/* binding */ uniqueString)\n/* harmony export */ });\nconst uniqueString = (length)=>{\n    let result = \"\";\n    const characters = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n    const charactersLength = characters.length;\n    for(let i = 0; i < length; i++){\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n};\nconst isBrowser = ()=>\"undefined\" !== \"undefined\";\n/**\n * min, max included\n */ const getRandomInteger = (min, max)=>{\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst isUrl = (str)=>{\n    return /^https?:\\/\\//gi.test(str);\n};\n/**\n * in seconds\n */ const sleep = (seconds)=>{\n    return new Promise((resolve)=>setTimeout(resolve, seconds * 1000));\n};\n// this is not perfect, should be called in all jest.config.js\n// jest imports with node, not ts-node\nconst isGithubActionsAppEnv = ()=>{\n    return process.env.APP_ENV === \"ci\";\n};\n/**\n * Note: this might give wrong path in tests\n */ const rootDirAbsolutePath = process.cwd();\n/**\n * filter special chars and replace spaces with '_'\n */ const filterSearchTerm = (searchTerm, operator = \"space\")=>{\n    // 'cat_dog' matches 'cat dog'\n    const joinBy = operator === \"space\" ? \"_\" : \" | \";\n    return searchTerm && searchTerm.trim().replace(/[^a-z0-9-\\s]+/gi, \"\") // remove special chars\n    .split(/\\s+/).join(joinBy);\n};\n//create function receive data and check isAdmin or not\nconst isAdmin = (user)=>{\n    return user.role_id === 1;\n};\nconst digitsOnly = (value)=>/^\\d+$/.test(value);\nconst convertToThaiFormat = (dateString)=>{\n    const parts = dateString.split(\"/\");\n    const day = parts[0];\n    const month = parts[1];\n    const year = parts[2];\n    return `${day}/${month}/${Number(year) + 543}`;\n};\nconst convertToThaiFormatTime = (dateString)=>{\n    const parts = dateString.split(\"/\");\n    const day = parts[0];\n    const month = parts[1];\n    const year = parts[2].split(\" \")[0];\n    const time = parts[2].split(\" \")[1];\n    return `${day}/${month}/${Number(year) + 543} ${time}`;\n};\nconst convertDateToString = (date)=>{\n    if (!date) {\n        return \"\";\n    }\n    const yyyy = date.getFullYear().toString();\n    const mm = (date.getMonth() + 1).toString();\n    const dd = date.getDate().toString();\n    return `${dd.padStart(2, \"0\")}/${mm.padStart(2, \"0\")}/${yyyy}`;\n};\nconst convertDateToStringWithTime = (date)=>{\n    if (!date) {\n        return \"\";\n    }\n    const yyyy = date.getFullYear().toString();\n    const mm = (date.getMonth() + 1).toString();\n    const dd = date.getDate().toString();\n    const hours = date.getHours().toString();\n    const minutes = date.getMinutes().toString();\n    return `${dd.padStart(2, \"0\")}/${mm.padStart(2, \"0\")}/${yyyy} ${hours.padStart(2, \"0\")}:${minutes.padStart(2, \"0\")}`;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNKLEtBQUtLLFFBQVEsS0FBSyxHQUFHRixRQUFRO0lBQ3pDLE1BQU1HLEtBQUtOLEtBQUtPLE9BQU8sR0FBR0osUUFBUTtJQUVsQyxPQUFPLENBQUMsRUFBRUcsR0FBR0UsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUVKLEdBQUdJLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFUCxLQUFLLENBQUM7QUFDaEUsRUFBRTtBQUVLLE1BQU1RLDhCQUE4QixDQUFDVDtJQUMxQyxJQUFJLENBQUNBLE1BQU07UUFDVCxPQUFPO0lBQ1Q7SUFDQSxNQUFNQyxPQUFPRCxLQUFLRSxXQUFXLEdBQUdDLFFBQVE7SUFDeEMsTUFBTUMsS0FBSyxDQUFDSixLQUFLSyxRQUFRLEtBQUssR0FBR0YsUUFBUTtJQUN6QyxNQUFNRyxLQUFLTixLQUFLTyxPQUFPLEdBQUdKLFFBQVE7SUFFbEMsTUFBTU8sUUFBUVYsS0FBS1csUUFBUSxHQUFHUixRQUFRO0lBQ3RDLE1BQU1TLFVBQVVaLEtBQUthLFVBQVUsR0FBR1YsUUFBUTtJQUUxQyxPQUFPLENBQUMsRUFBRUcsR0FBR0UsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUVKLEdBQUdJLFFBQVEsQ0FDMUMsR0FDQSxLQUNBLENBQUMsRUFBRVAsS0FBSyxDQUFDLEVBQUVTLE1BQU1GLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFSSxRQUFRSixRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BpcnVucmFqLy4vc3JjL3V0aWxzL2luZGV4LnRzP2FjYTkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHVuaXF1ZVN0cmluZyA9IChsZW5ndGg6IG51bWJlcikgPT4ge1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgY29uc3QgY2hhcmFjdGVycyA9IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG4gIGNvbnN0IGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Jyb3dzZXIgPSAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuXG4vKipcbiAqIG1pbiwgbWF4IGluY2x1ZGVkXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRSYW5kb21JbnRlZ2VyID0gKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4ge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1VybCA9IChzdHI6IHN0cmluZykgPT4ge1xuICByZXR1cm4gL15odHRwcz86XFwvXFwvL2dpLnRlc3Qoc3RyKTtcbn07XG5cbi8qKlxuICogaW4gc2Vjb25kc1xuICovXG5leHBvcnQgY29uc3Qgc2xlZXAgPSAoc2Vjb25kczogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBzZWNvbmRzICogMTAwMCkpO1xufTtcblxuLy8gdGhpcyBpcyBub3QgcGVyZmVjdCwgc2hvdWxkIGJlIGNhbGxlZCBpbiBhbGwgamVzdC5jb25maWcuanNcbi8vIGplc3QgaW1wb3J0cyB3aXRoIG5vZGUsIG5vdCB0cy1ub2RlXG5leHBvcnQgY29uc3QgaXNHaXRodWJBY3Rpb25zQXBwRW52ID0gKCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuQVBQX0VOViA9PT0gXCJjaVwiO1xufTtcblxuLyoqXG4gKiBOb3RlOiB0aGlzIG1pZ2h0IGdpdmUgd3JvbmcgcGF0aCBpbiB0ZXN0c1xuICovXG5leHBvcnQgY29uc3Qgcm9vdERpckFic29sdXRlUGF0aCA9IHByb2Nlc3MuY3dkKCk7XG5cbi8qKlxuICogZmlsdGVyIHNwZWNpYWwgY2hhcnMgYW5kIHJlcGxhY2Ugc3BhY2VzIHdpdGggJ18nXG4gKi9cbmV4cG9ydCBjb25zdCBmaWx0ZXJTZWFyY2hUZXJtID0gKFxuICBzZWFyY2hUZXJtOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIG9wZXJhdG9yOiBcInNwYWNlXCIgfCBcIm9yXCIgPSBcInNwYWNlXCJcbik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gIC8vICdjYXRfZG9nJyBtYXRjaGVzICdjYXQgZG9nJ1xuICBjb25zdCBqb2luQnkgPSBvcGVyYXRvciA9PT0gXCJzcGFjZVwiID8gXCJfXCIgOiBcIiB8IFwiO1xuXG4gIHJldHVybiAoXG4gICAgc2VhcmNoVGVybSAmJlxuICAgIHNlYXJjaFRlcm1cbiAgICAgIC50cmltKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOeC4gS3guZlcXHNdKy9naSwgXCJcIikgLy8gcmVtb3ZlIHNwZWNpYWwgY2hhcnNcbiAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAuam9pbihqb2luQnkpXG4gICk7XG59O1xuXG4vL2NyZWF0ZSBmdW5jdGlvbiByZWNlaXZlIGRhdGEgYW5kIGNoZWNrIGlzQWRtaW4gb3Igbm90XG5leHBvcnQgY29uc3QgaXNBZG1pbiA9ICh1c2VyOiBhbnkpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHVzZXIucm9sZV9pZCA9PT0gMTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaWdpdHNPbmx5ID0gKHZhbHVlOiBhbnkpID0+IC9eXFxkKyQvLnRlc3QodmFsdWUpO1xuXG5leHBvcnQgY29uc3QgY29udmVydFRvVGhhaUZvcm1hdCA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcGFydHMgPSBkYXRlU3RyaW5nLnNwbGl0KFwiL1wiKTtcbiAgY29uc3QgZGF5ID0gcGFydHNbMF07XG4gIGNvbnN0IG1vbnRoID0gcGFydHNbMV07XG4gIGNvbnN0IHllYXIgPSBwYXJ0c1syXTtcbiAgcmV0dXJuIGAke2RheX0vJHttb250aH0vJHtOdW1iZXIoeWVhcikgKyA1NDN9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0VG9UaGFpRm9ybWF0VGltZSA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgcGFydHMgPSBkYXRlU3RyaW5nLnNwbGl0KFwiL1wiKTtcbiAgY29uc3QgZGF5ID0gcGFydHNbMF07XG4gIGNvbnN0IG1vbnRoID0gcGFydHNbMV07XG4gIGNvbnN0IHllYXIgPSBwYXJ0c1syXS5zcGxpdChcIiBcIilbMF07XG4gIGNvbnN0IHRpbWUgPSBwYXJ0c1syXS5zcGxpdChcIiBcIilbMV07XG4gIHJldHVybiBgJHtkYXl9LyR7bW9udGh9LyR7TnVtYmVyKHllYXIpICsgNTQzfSAke3RpbWV9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0RGF0ZVRvU3RyaW5nID0gKGRhdGU6IERhdGUgfCBudWxsKTogc3RyaW5nID0+IHtcbiAgaWYgKCFkYXRlKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgY29uc3QgeXl5eSA9IGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICBjb25zdCBtbSA9IChkYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpO1xuICBjb25zdCBkZCA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7XG5cbiAgcmV0dXJuIGAke2RkLnBhZFN0YXJ0KDIsIFwiMFwiKX0vJHttbS5wYWRTdGFydCgyLCBcIjBcIil9LyR7eXl5eX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbnZlcnREYXRlVG9TdHJpbmdXaXRoVGltZSA9IChkYXRlOiBEYXRlIHwgbnVsbCk6IHN0cmluZyA9PiB7XG4gIGlmICghZGF0ZSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHl5eXkgPSBkYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTtcbiAgY29uc3QgbW0gPSAoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKTtcbiAgY29uc3QgZGQgPSBkYXRlLmdldERhdGUoKS50b1N0cmluZygpO1xuXG4gIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCk7XG4gIGNvbnN0IG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpO1xuXG4gIHJldHVybiBgJHtkZC5wYWRTdGFydCgyLCBcIjBcIil9LyR7bW0ucGFkU3RhcnQoXG4gICAgMixcbiAgICBcIjBcIlxuICApfS8ke3l5eXl9ICR7aG91cnMucGFkU3RhcnQoMiwgXCIwXCIpfToke21pbnV0ZXMucGFkU3RhcnQoMiwgXCIwXCIpfWA7XG59O1xuIl0sIm5hbWVzIjpbInVuaXF1ZVN0cmluZyIsImxlbmd0aCIsInJlc3VsdCIsImNoYXJhY3RlcnMiLCJjaGFyYWN0ZXJzTGVuZ3RoIiwiaSIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImlzQnJvd3NlciIsImdldFJhbmRvbUludGVnZXIiLCJtaW4iLCJtYXgiLCJpc1VybCIsInN0ciIsInRlc3QiLCJzbGVlcCIsInNlY29uZHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJpc0dpdGh1YkFjdGlvbnNBcHBFbnYiLCJwcm9jZXNzIiwiZW52IiwiQVBQX0VOViIsInJvb3REaXJBYnNvbHV0ZVBhdGgiLCJjd2QiLCJmaWx0ZXJTZWFyY2hUZXJtIiwic2VhcmNoVGVybSIsIm9wZXJhdG9yIiwiam9pbkJ5IiwidHJpbSIsInJlcGxhY2UiLCJzcGxpdCIsImpvaW4iLCJpc0FkbWluIiwidXNlciIsInJvbGVfaWQiLCJkaWdpdHNPbmx5IiwidmFsdWUiLCJjb252ZXJ0VG9UaGFpRm9ybWF0IiwiZGF0ZVN0cmluZyIsInBhcnRzIiwiZGF5IiwibW9udGgiLCJ5ZWFyIiwiTnVtYmVyIiwiY29udmVydFRvVGhhaUZvcm1hdFRpbWUiLCJ0aW1lIiwiY29udmVydERhdGVUb1N0cmluZyIsImRhdGUiLCJ5eXl5IiwiZ2V0RnVsbFllYXIiLCJ0b1N0cmluZyIsIm1tIiwiZ2V0TW9udGgiLCJkZCIsImdldERhdGUiLCJwYWRTdGFydCIsImNvbnZlcnREYXRlVG9TdHJpbmdXaXRoVGltZSIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/zod","vendor-chunks/next-validations","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fofficer%2Froute&page=%2Fapi%2Fofficer%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fofficer%2Froute.ts&appDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fhednoy%2FDesktop%2FPalm%2Fmmf%2Fmmf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();